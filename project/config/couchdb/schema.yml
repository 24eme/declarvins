acVinCompte:
  type: abstract
  definition:
    fields:
      login: { }
      mot_de_passe: {  }
      email: {  }
      statut: {  }
      droits:
        type: array_collection
        definition:
          fields:
            '*': { }

_Compte:
  inheritance: acVinCompte
  type: abstract
  definition:
    fields:
      login: { }
            
_Tiers:
  type: abstract
  definition:
    fields:
      identifiant: { }
      nom: { }
      type: {  }
      statut: {  }

acVinCompteTiers:
  inheritance: _Compte
  definition:
    fields:
      _id: {  }
      _rev: {  }
      tiers:
        type: collection
        definition:
          fields:
            '*':
              type: collection
              definition:
                fields:
                  id: {  }
                  type: {  }
                  nom: {  }
                  interpro: {  }
                  
CompteTiers:
  inheritance: acVinCompteTiers
  definition:
    fields:
      nom: {  }
      prenom: {  }
      fonction: {  }
      telephone: {  }
      fax: {  }
      type: {  }
      contrat: {  }
      interpro: 
        type: collection
        definition:
          fields:
            '*':
              type: collection
              definition:
                fields:
                  statut: {  }
                  

Interpro:
  inheritance: _Tiers
  definition:
    fields:
      _id: {  }
      _rev: {  }

Etablissement:
  inheritance: _Tiers
  definition:
    fields:
      _id: {  }
      _rev: {  }
      interpro: {  }
      compte: {  }
      droits:
        type: array_collection
        definition:
          fields:
            '*': {  }
      num_interne: {  }
      siret: {  }
      cni: {  }
      cvi: {  }
      no_accises: {  }
      no_tva_intracommunautaire: {  }
      famille: {  }
      sous_famille: {  }
      email: {  }
      telephone: {  }
      fax: {  }
      siege:
          type: collection
          definition:
            fields:
              adresse: {  }
              code_postal: {  }
              commune: {  }
      comptabilite:
          type: collection
          definition:
            fields:
              adresse: {  }
              code_postal: {  }
              commune: {  }
      service_douane: {  }

Douane:
  inheritance: _Tiers
  definition:
    fields:
      _id: {  }
      _rev: {  }
      email: {  }

Edi:
  inheritance: _Tiers
  definition:
    fields:
      _id: {  }
      _rev: {  }

Contrat:
  definition:
    fields:
      _id: {  }
      _rev: {  }
      no_contrat: {  }
      type: {  }
      nom: {  }
      prenom: {  }
      fonction: {  }
      telephone: {  }
      fax: {  }
      compte: {  }
      etablissements:
        type: array_collection
        definition:
          fields:
            '*':
              type: collection
              definition:
                fields:
                  raison_sociale: {  }
                  siret: {  }
                  cni: {  }
                  cvi: {  }
                  no_accises: {  }
                  no_tva_intracommunautaire: {  }
                  adresse: {  }
                  code_postal: {  }
                  commune: {  }
                  telephone: {  }
                  fax: {  }
                  email: {  }
                  famille: {  }
                  sous_famille: {  }
                  comptabilite_adresse: {  }
                  comptabilite_code_postal: {  }
                  comptabilite_commune: {  }
                  service_douane: {  }

DRM:
  definition:
  fields:
    _id: {  }
    _rev: {  }
    type: {  }
    campagne: {  }
    
Current:
  definition:
    fields:
      _id: {  }
      _rev: {  }
      type: {  }
      campagne: {  }
      
Configuration:
  definition:
    fields:
      _id: {  }
      _rev: {  }
      type: {  }
      campagne: {  }
      declaration:
        type: collection
        definition:
          fields:
            labels:
              type: collection
              definition:
                fields:
                  '*':
                    # LABEL
                    class: ConfigurationLabel
                    inheritance: _ConfigurationDeclaration
                    type: collection
                    definition:
                      fields:
                        libelle: {  }
                        appellations:
                          type: collection
                          definition:
                            fields:
                              '*':
                                # APPELLATION
                                class: ConfigurationAppellation
                                inheritance: _ConfigurationDeclaration
                                type: collection
                                definition:
                                  fields:
                                    libelle: {  }
                                    couleurs:
                                      type: collection
                                      definition:
                                        fields:
                                          '*':
                                            # COULEUR
                                            class: ConfigurationCouleur
                                            inheritance: _ConfigurationDeclaration
                                            type: collection
                                            definition:
                                              fields:
                                                libelle: {  }

DRM:
  definition:
    fields:
      _id: {  }
      _rev: {  }
      type: {  }
      campagne: {  }
      declaration:
        type: collection
        definition:
          fields:
            labels:
              type: collection
              definition:
                fields:
                  '*':
                    # LABEL
                    class: DRMLabel
                    inheritance: _DRMTotal
                    type: collection
                    definition:
                      fields:
                        total_stocks: { type: float }
                        total_entrees: { type: float }
                        total_sorties: { type: float }
                        total: { type: float }
                        appellations:
                          class: DRMAppellation
                          inheritance: _DRMTotal
                          type: collection
                          definition:
                            fields:
                              '*':
                                # APPELLATION
                                class: DRMAppellation
                                inheritance: _DRMTotal
                                type: collection
                                definition:
                                  fields:
                                    total_stocks: { type: float }
                                    total_entrees: { type: float }
                                    total_sorties: { type: float }
                                    total: { type: float }
                                    couleurs:
                                      type: collection
                                      definition:
                                        fields:
                                          '*':
                                            # COULEUR
                                            class: DRMCouleur
                                            inheritance: _DRMTotal
                                            type: collection
                                            definition:
                                              fields:
                                                total_stocks: { type: float }
                                                total_entrees: { type: float }
                                                total_sorties: { type: float }
                                                total: { type: float }
                                                details:
                                                  type: array_collection
                                                  definition:
                                                    fields:
                                                      '*':
                                                        type: collection
                                                        definition:
                                                          fields:
                                                            '*':
                                                              class: DRMDetail
                                                              type: collection
                                                              definition:
                                                                fields:
                                                                  denomination: {  }
                                                                  label: {  }
                                                                  stocks:
                                                                    type: collection
                                                                    definition:
                                                                      fields:
                                                                        theorique: { type: float }
                                                                        bloque: { type: float }  
                                                                        warrante: { type: float }
                                                                        instance: { type: float }
                                                                        total: { type: float }
                                                                  entrees:
                                                                    type: collection
                                                                    definition:
                                                                      fields:
                                                                        nouveau: { type: float }  
                                                                        changement: { type: float }
                                                                        mouvement: { type: float }
                                                                        total: { type: float }
                                                                  sorties:
                                                                    type: collection
                                                                    definition:
                                                                      fields:
                                                                        vrac: { type: float }  
                                                                        export: { type: float }  
                                                                        factures: { type: float } 
                                                                        crd: { type: float }
                                                                        consommation: { type: float }
                                                                        pertes: { type: float }
                                                                        declassement: { type: float }
                                                                        repli: { type: float }
                                                                        mouvement: { type: float }
                                                                        lies: { type: float }
                                                                        total: { type: float }
                                                                  total: { type: float }
      declarant:
        type: collection
        class: DRMDeclarant
        definition:
          fields:
            nom: {  }
            siret: {  }
            cni: {  }
            cvi: {  }
            no_accises: {  }
            no_tva_intracommunautaire: {  }
            siege:
                type: collection
                definition:
                  fields:
                    adresse: {  }
                    code_postal: {  }
                    commune: {  }
            comptabilite:
                type: collection
                definition:
                  fields:
                    adresse: {  }
                    code_postal: {  }
                    commune: {  }
            service_douane: {  }
      identifiant: {  }
            